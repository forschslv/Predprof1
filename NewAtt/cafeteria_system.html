<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–°–∏—Å—Ç–µ–º–∞ –∑–∞–∫–∞–∑–∞ –ø–∏—Ç–∞–Ω–∏—è –≤ —Å—Ç–æ–ª–æ–≤–æ–π</title>
    <link rel="stylesheet" href="cafeteria_styles.css">
</head>

<body>
<div class="container">
    <h1>–°–∏—Å—Ç–µ–º–∞ –∑–∞–∫–∞–∑–∞ –ø–∏—Ç–∞–Ω–∏—è –≤ —Å—Ç–æ–ª–æ–≤–æ–π üçΩÔ∏è</h1>

    <!-- AUTHENTICATION SECTION -->
    <div id="authSection">
        <h2 id="authTitle">–í—Ö–æ–¥</h2>
        <input type="text" id="username" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
        <input type="email" id="email" placeholder="Email" class="hidden">
        <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å" class="hidden">
        <select id="roleSelect" class="hidden">
            <option value="student">–£—á–µ–Ω–∏–∫</option>
            <option value="cook">–ü–æ–≤–∞—Ä</option>
            <option value="admin">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</option>
        </select>
        <input type="text" id="status" placeholder="–°—Ç–∞—Ç—É—Å (—É—á–µ–Ω–∏–∫/—Ä–æ–¥–∏—Ç–µ–ª—å)" class="hidden">
        
        <button onclick="handleAuth()" id="authBtn">–í–æ–π—Ç–∏</button>
        <p onclick="toggleReg()" id="toggleText">
            –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
        </p>
    </div>

    <!-- DASHBOARD SECTION -->
    <div id="dashboardSection" class="hidden">
        <h2 id="welcomeMsg"></h2>
        
        <!-- STUDENT PANEL -->
        <div id="studentPanel" class="hidden">
            <div class="profile-box">
                <h3>üë§ –ü—Ä–æ—Ñ–∏–ª—å —É—á–µ–Ω–∏–∫–∞</h3>
                <p><strong>–ò–º—è:</strong> <span id="profileName"></span></p>
                <p><strong>–§–∞–º–∏–ª–∏—è:</strong> <span id="profileSecondaryName"></span></p>
                <p><strong>Email:</strong> <span id="profileEmail"></span></p>
                <p><strong>–°—Ç–∞—Ç—É—Å:</strong> <span id="profileStatus"></span></p>
                <p><strong>–ö–ª–∞—Å—Å:</strong> <span id="profileClass"></span></p>
                <p><strong>–ö–ª–∞—Å—Å–Ω—ã–π —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å:</strong> <span id="profileTeacher"></span></p>
            </div>
            
            <h3>üçΩÔ∏è –ú–µ–Ω—é –Ω–∞ –º–æ–¥—É–ª—å</h3>
            <div id="moduleMenuDisplay">
                <div id="weekMenuDisplay">
                    <!-- Days of week will be displayed here -->
                </div>
                
                <h4>–ó–∞–∫–∞–∑ –Ω–∞ –Ω–µ–¥–µ–ª—é</h4>
                <div id="orderForm">
                    <label>–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –Ω–µ–¥–µ–ª–∏: <input type="date" id="weekStartDate"></label>
                    <div id="weekOrderForm">
                        <!-- Day order forms will be dynamically generated -->
                    </div>
                    <button onclick="submitOrder()" class="secondary">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑</button>
                </div>
            </div>
            
            <h3>üìã –ú–æ–∏ –∑–∞–∫–∞–∑—ã</h3>
            <div id="myOrders">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>

        <!-- COOK PANEL -->
        <div id="cookPanel" class="hidden">
            <h3>üçΩÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–º –º–µ–Ω—é</h3>
            <div id="globalMenuControls">
                <div class="filter-section">
                    <select id="dishTypeFilter">
                        <option value="">–í—Å–µ —Ç–∏–ø—ã –±–ª—é–¥</option>
                        <option value="MAIN">–í—Ç–æ—Ä–æ–µ –≥–æ—Ä—è—á–µ–µ –±–ª—é–¥–æ</option>
                        <option value="GARNISH">–ì–∞—Ä–Ω–∏—Ä</option>
                        <option value="PREPARED">–ì–æ—Ç–æ–≤–æ–µ –∫—É–ª–∏–Ω–∞—Ä–Ω–æ–µ –±–ª—é–¥–æ</option>
                        <option value="DRINK">–ù–∞–ø–∏—Ç–æ–∫</option>
                        <option value="SALAD">–°–∞–ª–∞—Ç</option>
                        <option value="SOUP">–°—É–ø</option>
                        <option value="BREAD">–•–ª–µ–±</option>
                    </select>
                    <button onclick="filterDishes()">–§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å</button>
                </div>
                
                <div class="inventory-item">
                    <input type="text" id="newDishName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –±–ª—é–¥–∞">
                    <input type="text" id="newDishShortName" placeholder="–ö—Ä–∞—Ç–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ">
                    <select id="newDishType">
                        <option value="MAIN">–í—Ç–æ—Ä–æ–µ –≥–æ—Ä—è—á–µ–µ –±–ª—é–¥–æ</option>
                        <option value="GARNISH">–ì–∞—Ä–Ω–∏—Ä</option>
                        <option value="PREPARED">–ì–æ—Ç–æ–≤–æ–µ –∫—É–ª–∏–Ω–∞—Ä–Ω–æ–µ –±–ª—é–¥–æ</option>
                        <option value="DRINK">–ù–∞–ø–∏—Ç–æ–∫</option>
                        <option value="SALAD">–°–∞–ª–∞—Ç</option>
                        <option value="SOUP">–°—É–ø</option>
                        <option value="BREAD">–•–ª–µ–±</option>
                    </select>
                    <textarea id="newDishComposition" placeholder="–°–æ—Å—Ç–∞–≤ –±–ª—é–¥–∞"></textarea>
                    <input type="number" id="newDishQuantityGrams" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (–≥—Ä–∞–º–º)">
                    <input type="number" id="newDishPriceRub" placeholder="–¶–µ–Ω–∞ (—Ä—É–±.)" step="0.01">
                    <input type="text" id="newDishBarcode" placeholder="–®—Ç—Ä–∏—Ö-–∫–æ–¥ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">
                    <input type="text" id="newDishPeriod" placeholder="–ü–µ—Ä–∏–æ–¥ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">
                    
                    <div class="button-group">
                        <button onclick="createDish()">–î–æ–±–∞–≤–∏—Ç—å –±–ª—é–¥–æ</button>
                        <button onclick="uploadMenuFile(false)" class="secondary">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –º–µ–Ω—é</button>
                        <button onclick="uploadMenuFile(true)" class="secondary">–ó–∞–≥—Ä—É–∑–∏—Ç—å –º–µ–Ω—é –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞</button>
                    </div>
                </div>
                
                <div id="dishesList"></div>
            </div>
            
            <h3>üìÖ –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–Ω—é –Ω–∞ –º–æ–¥—É–ª—å</h3>
            <div id="moduleMenuSetup">
                <div class="filter-section">
                    <label>–î–µ–Ω—å –Ω–µ–¥–µ–ª–∏:
                        <select id="dayOfWeekSelect">
                            <option value="0">–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫</option>
                            <option value="1">–í—Ç–æ—Ä–Ω–∏–∫</option>
                            <option value="2">–°—Ä–µ–¥–∞</option>
                            <option value="3">–ß–µ—Ç–≤–µ—Ä–≥</option>
                            <option value="4">–ü—è—Ç–Ω–∏—Ü–∞</option>
                            <option value="5">–°—É–±–±–æ—Ç–∞</option>
                        </select>
                    </label>
                    <button onclick="loadDishesForDay()">–ó–∞–≥—Ä—É–∑–∏—Ç—å –±–ª—é–¥–∞ –¥–ª—è –¥–Ω—è</button>
                </div>
                
                <div id="dayMenuSetup">
                    <!-- Day menu setup will be loaded here -->
                </div>
                
                <div class="button-group">
                    <button onclick="saveModuleMenu()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –º–µ–Ω—é –Ω–∞ –º–æ–¥—É–ª—å</button>
                    <button onclick="exportModuleMenu()" class="secondary">–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ JSON</button>
                </div>
            </div>
        </div>

        <!-- ADMIN PANEL -->
        <div id="adminPanel" class="hidden">
            <h3>üìä –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏</h3>
            <div id="ordersManagement">
                <div id="ordersList"></div>
            </div>
            
            <h3>üìà –û—Ç—á–µ—Ç—ã</h3>
            <div class="filter-section">
                <label>–î–∞—Ç–∞: <input type="date" id="reportDate"></label>
                <button onclick="downloadReport()" class="secondary">–°–∫–∞—á–∞—Ç—å –æ—Ç—á–µ—Ç</button>
            </div>
        </div>

        <button class="logout" onclick="logout()">–í—ã–π—Ç–∏</button>
    </div>
</div>

<!-- MODAL FOR PAYMENT -->
<div id="paymentModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal('paymentModal')">&times;</span>
        <h3>–û–ø–ª–∞—Ç–∞ –∑–∞–∫–∞–∑–∞</h3>
        <div id="paymentInfo">
            <p>–ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞: <span id="totalOrderAmount" class="price">0‚ÇΩ</span></p>
            <p>–†–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã: [—Ä–µ–∫–≤–∏–∑–∏—Ç—ã]</p>
        </div>
        <div>
            <label>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã:</label>
            <input type="file" id="paymentProof" accept=".pdf,.png,.jpg,.jpeg">
        </div>
        <button onclick="confirmPayment()">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é –æ–ø–ª–∞—Ç—É</button>
    </div>
</div>

<script src="cafeteria_script.js"></script>

</body>
</html>